setup-gitlab-git() {
  git config user.name "Peter Leitzen"
  git config user.email "pleitzen@gitlab.com"
  echo -n "Name: "
  git config user.name
  echo -n "E-Mail: "
  git config user.email
}

cd() {
  builtin cd "$@" || return
  [ "$OLDPWD" = "$PWD" ] ||
    case $PWD in
      ~/devel/gitlab/*)
        [[ "$(git config user.email)" = *"gitlab.com" ]] || setup-gitlab-git
      ;;
    esac
}
